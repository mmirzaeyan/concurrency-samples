<?xml version="1.0"?>
<!DOCTYPE hibernate-mapping PUBLIC "-//Hibernate/Hibernate Mapping DTD 3.0//EN"
                                   "http://hibernate.sourceforge.net/hibernate-mapping-3.0.dtd">
<hibernate-mapping>
	<class   name="org.codePlus.core.menu.Menu" table="App_Menu">
		<id name="id" type="java.lang.Long" >
			<column name="ID"  />
			 <generator class="identity" />
		</id> 
		
		<property column="title"   		name="title" 			not-null="true" 	type="string"  length="20"/>
	
		<many-to-one entity-name="org.codePlus.core.menu.Menu" name="parent">
			<column name="PARENT_ID" not-null="false"  />
		</many-to-one>
		
		 <set name="items" table="App_Menu"  lazy="false"  inverse="true">
   			<key column="PARENT_ID" not-null="true"/>
   			<one-to-many class="org.codePlus.core.menu.Menu"/>
  		</set>
		
		<one-to-one name="menuSetting" class="org.codePlus.core.menu.MenuSetting" cascade="save-update"></one-to-one>
		
		<many-to-one name="createdBy"     column="CreatedBy"       entity-name="org.codePlus.framework.model.security.User" not-null="true"  update="false" />
		<many-to-one name="updatedBy"     column="UpdatedBy"       entity-name="org.codePlus.framework.model.security.User" not-null="true"  />
		<property column="CreatedDate" 	name="createdDate"   	not-null="true" update="false" />
		<property column="UpdatedDate" 	name="updatedDate" 	 	not-null="true"/>	
		
	</class>
</hibernate-mapping>
